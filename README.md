# 抖音风格聊天应用

这是一个仿抖音聊天界面的前端应用，支持双人聊天、发送文字、图片、语音消息，以及更换头像等功能。采用现代化的UI设计，流畅的动画效果。

## 功能特点

### ✅ 已实现功能

1. **聊天界面**
   - 完全仿微信风格的UI设计
   - 顶部导航栏（返回、头像、视频通话、更多选项）
   - 消息区域（支持左右对齐）
   - 底部输入栏和功能面板

2. **消息功能**
   - ✍️ 发送文字消息（回车或点击发送）
   - 📷 发送图片（支持选择本地图片）
   - 🎤 发送语音消息（需要麦克风权限）
   - 😀 表情选择器（丰富的表情库）
   - 🚀 快捷表情按钮

3. **双人聊天**
   - 支持左右两个用户角色切换
   - 点击任意消息头像可切换当前发送用户
   - 消息自动对齐（左侧/右侧）
   - 不同用户使用不同的消息气泡颜色

4. **头像管理**
   - 👤 更换自己的头像
   - 👤 更换聊天对象的头像（点击顶部头像）
   - 默认渐变色头像

5. **其他功能**
   - 自动添加时间戳
   - 消息自动滚动到底部
   - 响应式设计（支持移动端和桌面端）
   - 平滑动画效果

## 使用方法

### 1. 打开应用

直接在浏览器中打开 `index.html` 文件即可使用。

```bash
# 方式1：直接双击打开 index.html

# 方式2：使用本地服务器（推荐）
python -m http.server 8000
# 然后访问 http://localhost:8000
```

### 2. 功能使用指南

#### 发送文字消息
- 在底部输入框输入文字
- 按回车键或点击发送按钮

#### 发送图片
1. 点击底部的 "+" 按钮
2. 选择 "照片" 选项
3. 选择要发送的图片

#### 发送语音消息
1. 点击底部的麦克风按钮
2. 允许浏览器访问麦克风权限
3. 开始录音
4. 点击 "发送" 完成，或 "取消" 放弃

#### 更换头像
- **更换自己的头像**：点击 "+" → "更换头像"
- **更换聊天对象头像**：点击顶部导航栏的头像

#### 切换发送用户
- 点击任意消息的头像即可切换当前发送用户（左侧/右侧）
- 切换后，新消息将以该用户身份发送

#### 使用表情
- 点击底部表情按钮打开表情选择器
- 点击顶部的快捷表情按钮快速发送常用表情

## 技术栈

- **HTML5**: 结构
- **CSS3**: 样式和动画
- **JavaScript**: 交互逻辑
- **MediaRecorder API**: 语音录制
- **FileReader API**: 图片上传和预览

## 浏览器兼容性

- ✅ Chrome/Edge (推荐)
- ✅ Firefox
- ✅ Safari
- ⚠️ 语音功能需要 HTTPS 或 localhost 环境

## 项目结构

```
/workspace/
├── index.html      # 主HTML文件
├── style.css       # 样式文件
├── script.js       # JavaScript逻辑
└── README.md       # 说明文档
```

## 注意事项

1. **语音功能**需要浏览器麦克风权限，首次使用时会弹出授权提示
2. **HTTPS要求**：语音功能在生产环境需要HTTPS协议（本地开发可使用localhost）
3. 所有消息数据存储在浏览器内存中，刷新页面后会清空
4. 支持的图片格式：JPG、PNG、GIF、WEBP等常见格式

## 自定义配置

### 修改默认头像颜色

在 `script.js` 中找到 `defaultAvatars` 对象：

```javascript
const defaultAvatars = {
    left: generateDefaultAvatar('#4A90E2'),  // 左侧用户颜色
    right: generateDefaultAvatar('#95EC69')  // 右侧用户颜色
};
```

### 修改消息气泡颜色

在 `style.css` 中修改：

```css
.message-bubble {
    background: #FFFFFF;  /* 左侧消息背景 */
}

.message.right .message-bubble {
    background: linear-gradient(135deg, #4A9FF5 0%, #5B7EF6 100%);  /* 右侧消息渐变背景 */
}
```

## 功能演示

### 界面特点
应用界面完全模仿抖音聊天界面，包括：
- 顶部状态栏（时间、刘海屏、信号、电池）
- 导航栏（返回、头像、标题、视频通话、更多）
- 聊天消息区域（时间、系统消息、用户消息）
- 底部输入栏（表情快捷键、输入框、语音、表情选择器、更多功能）
- 现代化的渐变色设计和圆润的UI元素

### 操作流程
1. 打开应用，看到默认的聊天界面
2. 在输入框输入消息并发送
3. 点击消息头像切换发送用户
4. 使用 "+" 按钮访问更多功能（照片、语音、头像）
5. 自由切换双人角色进行模拟对话

## 开发说明

本项目是纯前端应用，没有后端服务器。所有功能都在浏览器中实现：
- 消息存储：仅在内存中
- 图片处理：使用 FileReader API 转为 Base64
- 语音录制：使用 MediaRecorder API

如需添加后端支持，可以：
1. 使用 WebSocket 实现实时通信
2. 使用 REST API 存储消息和媒体文件
3. 添加用户认证系统

## 许可证

MIT License - 可自由使用和修改

## 作者

AI Assistant

## 更新日志

### v1.0.0 (2025-12-04)
- ✅ 初始版本发布
- ✅ 实现基础聊天功能
- ✅ 实现文字、图片、语音消息
- ✅ 实现双人聊天模拟
- ✅ 实现头像更换功能
- ✅ 实现表情选择器
